import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';
import { FreudCascadeSelectComponent, FreudCascadeSelectModule } from '@freud-ds/web-components';
import { FreudHeaderComponent } from '../../header/header.component';
import {
  Default,
  BGColor,
  Disabled,
  Invalid
} from './CascadeSelect.stories.ts';

<Meta
  decorators={[
    moduleMetadata({
      imports: [FreudCascadeSelectModule],
    })
  ]}
  parameters={{
    layout: 'centered',
    backgrounds: {
      default: 'Default',
      values: [
        { name: 'Default', value: '#FFFFFF' },
        { name: 'BgColor', value: '#6732D1' },
      ],
    }
  }}
title="@freud-ds/web-components/Forms/CascadeSelect" component={FreudCascadeSelectComponent} />

<FreudHeaderComponent
  title="CascadeSelect"
  description="Permite a pessoa usuária escolher uma opção dentro de uma lista já pré-definida em forma de cascata."
/>

## <a id="importing"></a>Import

```ts
import { FreudCascadeSelectModule } from '@freud-ds/web-components';
```

## Getting Started
CascadeSelect requer um valor para vincular e uma coleção de objetos arbitrários com uma hierarquia aninhada.
`optionGroupLabel` é usado para o texto de uma categoria e `optionGroupChildren` é para definir os filhos da categoria.
Observe que a ordem de `optionGroupChildren` é importante e deve corresponder à hierarquia de dados.
```html
<freud-cascade-select
    [(ngModel)]="selectedCity"
    [options]="countries"
    optionLabel="cname"
    optionGroupLabel="name"
    [optionGroupChildren]="['states', 'cities']"
    [style]="{'minWidth': '14rem'}">
</freud-cascade-select>
```
```ts
countries: any[
    {
          name: 'Australia',
          code: 'AU',
          states: [
              {
                  name: 'New South Wales',
                  cities: [
                      {cname: 'Sydney', code: 'A-SY'},
                      {cname: 'Newcastle', code: 'A-NE'},
                      {cname: 'Wollongong', code: 'A-WO'}
                  ]
              },
              {
                  name: 'Queensland',
                  cities: [
                      {cname: 'Brisbane', code: 'A-BR'},
                      {cname: 'Townsville', code: 'A-TO'}
                  ]
              },

          ]
      }
];

selectedCity: any;
```

## <a id="exemplos"></a>Exemplos
<br />

### Default
<Canvas>
  <Story story={Default}/>
</Canvas>

### Invalid
<Canvas>
  <Story story={Invalid}/>
</Canvas>

### Disabled
<Canvas>
  <Story story={Disabled}/>
</Canvas>

### BG Color
<Canvas style={{ backgroundColor: '#241249' }}>
  <Story story={BGColor}/>
</Canvas>

## <a id="api"></a>API

<ArgsTable of={FreudCascadeSelectComponent} />
