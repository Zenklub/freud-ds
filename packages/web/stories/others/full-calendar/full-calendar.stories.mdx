import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';
import { FreudFullCalendarComponent, FreudFullCalendarModule, FreudButtonModule } from '@freud-ds/web-components';
import { FreudHeaderComponent } from '../../header/header.component';
import {
  Default,
  CustomHeader
} from './FullCalendar.stories.ts';

<Meta
  decorators={[
    moduleMetadata({
      imports: [FreudFullCalendarModule, FreudButtonModule],
    })
  ]}
  parameters={{
    layout: 'centered',
    viewMode: 'docs',
    previewTabs: {
      canvas: { hidden: true }
    }
  }}
title="@freud-ds/web-components/Others/FullCalendar" component={FreudFullCalendarComponent} />

<Story name="Storyname-hidden">
  {{
    component: FreudHeaderComponent,
    props: {
      title: "FullCalendar",
      description: "Um calendário de eventos na tela toda."
    },
  }}
</Story>

## <a id="importing"></a>Import

```ts
import { FreudFullCalendarModule } from '@freud-ds/web-components';
```

## Getting Started
Um calendário de eventos baseado na biblioteca `FullCalendar` e definido com o elemento `freud-full-calendar`.
https://fullcalendar.io/
```html
<freud-full-calendar [options]="calendarOptions" [events]="eventsPromise | async"></freud-full-calendar>
```
```ts
calendarOptions: CalendarOptions = {
    initialView: 'dayGridMonth',
    plugins: [dayGridPlugin],
    dateClick: this.handleDateClick.bind(this), // MUST ensure `this` context is maintained
    events: [
      { title: 'event 1', date: '2019-04-01' },
      { title: 'event 2', date: '2019-04-02' }
    ]
};
```

### Custom Plugins
É possível utilizar outros plugins para personalizar o calendário, ex:
```ts
import dayGridPlugin from '@fullcalendar/daygrid';
import interactionPlugin from '@fullcalendar/interaction';
import timeGridPlugin from '@fullcalendar/timegrid';

const calendarOptions: CalendarOptions = {
  initialView: 'dayGridMonth',
  plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin],
  headerToolbar: {
    left: 'prev,next today',
    center: 'title',
    right: 'dayGridMonth,timeGridWeek,timeGridDay'
  },
};
```


## <a id="exemplos"></a>Exemplos
<br />

### Default
<Canvas>
  <Story story={Default}/>
</Canvas>

### CustomHeader
Utilize os plugins `dayGridPlugin`, `interactionPlugin` e `timeGridPlugin` definido os botões na propriedade
`headerToolbar` do objeto `options`
```ts
import dayGridPlugin from '@fullcalendar/daygrid';
import interactionPlugin from '@fullcalendar/interaction';
import timeGridPlugin from '@fullcalendar/timegrid';
const calendarOptions: CalendarOptions = {
  plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin],
  headerToolbar: {
    left: 'prev,next today',
    center: 'title',
    right: 'dayGridMonth,timeGridWeek,timeGridDay'
  },
}
```
<Canvas>
  <Story story={CustomHeader}/>
</Canvas>

## <a id="api"></a>API


<ArgsTable of={FreudFullCalendarComponent} />
